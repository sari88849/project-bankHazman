<!-- הקומפוננטה הזו- צפייה בפרטים האישיים ועדכונם -->
<!-- <div class="w3-sidebar w3-bar-block w3-card w3-animate-right" style="display:none;right:0;" id="rightMenu">
  <button (click)="closeRightMenu()" class="w3-bar-item w3-button w3-large">Close &times;</button>
  <br>
  <img src="../../../assets/picture/getUser1.jpg" alt="" id="xxx"
    style="width: 35%; text-align: center; margin-left: 35%;" (click)="getUsers()"><br> -->
<!-- <a href="#" class="w3-bar-item w3-button" style="text-align: center;" (click)="getUsers()" >להצגת המשתמשים</a> -->
<!-- <button (click)="getUsers()" style=" margin-left: 19%; background-color: white; border-color: white;">להצגת
    המשתמשים</button>

  <br><br><br>
  <img src="../../../assets/picture/ilearn.jpg" alt="" style="width: 35%; text-align: center; margin-left: 35%;"
    (click)="toListing()">
  <button (click)="getUsers()" style=" margin-left: 19%; background-color: white; border-color: white;">לתפריט
    הלימודים</button>
  <br><br><br>
  <img src="../../../assets/picture/myItem.png" alt="" style="width: 35%; text-align: center; margin-left: 35%;"
    (click)="MyItem()">
  <button (click)="getUsers()" style=" margin-left: 19%; background-color: white; border-color: white;">לעדכון
    הפרטים</button>
  <br> <br><br>
  <img src="../../../assets/picture/request.jpg" alt="" style="width: 35%; text-align: center; margin-left: 35%;"
    (click)="AddRequest()">
  <button (click)="getUsers()" style=" margin-left: 19%; background-color: white; border-color: white;">לבקשת
    שיעור</button>

  <!<a href="#" class="w3-bar-item w3-button">Link 2</a> -->
<!-- <a href="#" class="w3-bar-item w3-button">Link 3</a> -->
<!-- </div>  -->



<div class="w3-bar w3-light-grey w3-border w3-xlarge">

  <a class="w3-bar-item w3-button" (click)='toListing()' style="width: 20%;"><i class="pi pi-calendar"></i> <br>מעקב
    אישי</a>
  <a class="w3-bar-item w3-button w3-green" (click)='MyItem()' style="width: 20%;"><i class="pi pi-pencil"></i><br>פרטים
    אישיים</a>
  <a class="w3-bar-item w3-button" (click)='AddRequest()' style="width: 20%;"><i class="pi pi-plus-circle"></i><br>בקשת
    שיעור</a>
  <a class="w3-bar-item w3-button" (click)='getUsers()' style="width: 20%;"><i class="pi pi-id-card"></i><br>בקשות שלא
    אושרו</a>
  <a class="w3-bar-item w3-button" (click)='clalim()' style="width: 20%;"><i class="pi pi-heart"></i><br>...קצת
    עלינו</a>

</div>
<hr />

<!-- <div class="w3-teal">
  <button class="w3-button w3-teal w3-xlarge w3-right" (click)="openRightMenu()">&#9776;</button>
  <div class="w3-container">
    <h1></h1>
  </div>
</div> -->



<h2>הצגת הפרטים האישיים שלי</h2>

<button style="margin-left: 3%;" (click)="en()" *ngIf="!this.d">לעדכון הפרטים</button><br><br><br>

<div name="n1" *ngIf="this.d">


  <!-- <input id="input" type="text" size="30" pInputText [(ngModel)]="user.FName"> <label>  :שם פרטי</label><br><br> -->

  <input type="text" pInputText pTooltip="update your last name" tooltipPosition="top"
    style="margin-left: 33%; width: 15%; text-align: center;" [(ngModel)]="user.LName">

  <input type="text" pInputText pTooltip="update your first name" tooltipPosition="top"
    style="margin-left: 2%; width: 15%; text-align: center;" [(ngModel)]="user.FName"> <br><br>

  <input type="text" pInputText pTooltip="update your password" tooltipPosition="top"
    style="margin-left: 33%; width: 15%; text-align: center;" [(ngModel)]="user.Password">

  <input type="text" pInputText pTooltip="update your born date" tooltipPosition="top"
    style="margin-left: 2%; width: 15%; text-align: center;" disabled [(ngModel)]="user.DateOfBirth"><br><br>

  <input type="text" pInputText pTooltip="update your mail address" tooltipPosition="top"
    style="margin-left: 33%; width: 15%; text-align: center; " [(ngModel)]="user.Mail">

  <input type="text" pInputText pTooltip="update your fhone" tooltipPosition="top"
    style="margin-left: 2%; width: 15%; text-align: center;" [(ngModel)]="user.Phone"><br><br>

  <!-- <input type="text" pInputText pTooltip="update your min" tooltipPosition="top"
    style="margin-left: 41.5%; width: 15%; text-align: center;" disabled [(ngModel)]="user.Min"><br><br> -->

  <p-dropdown [options]="minService.listMin" optionLabel="NameMin" pTooltip="update your min to teach"
    tooltipPosition="top" style="margin-left: 33.5%; width: 15%; text-align: center;" [(ngModel)]="IdMin"
    placeholder=":בחר מגדר" [showClear]="true"></p-dropdown>

  <p-dropdown [options]="listSector" optionLabel="NameSector" pTooltip="update your sector" tooltipPosition="top"
    style=" width: 15%; text-align: center;" [(ngModel)]="IdSector" placeholder=":בחר מגזר" [showClear]="true">
  </p-dropdown>

  <p-dropdown [options]="timesService.listTimes" optionLabel="NameTime"
    style=" width: 70%; height: 40%; text-align: center;" pTooltip="update your time to teach" tooltipPosition="top"
    style="width: 200px; height: 37px;" [(ngModel)]="IdTime" placeholder=":בחר זמן" [showClear]="true"></p-dropdown>
  <br><br><br>
  <!-- <input type="text" pInputText pTooltip="Enter your min" tooltipPosition="top" [(ngModel)]="user.CodeSector" ><br><br> -->
  <h5 style="text-align: center;">...אם עברת דירה- עליך לבחור מיקום חדש</h5>
  <input style="margin-left: 44%;" matInput ngx-google-places-autocomplete #placesRef="ngx-places"
    (onAddressChange)="handleAddressChange($event)" #place /><br>
  <agm-map style="height: 300px" [latitude]="lat" [longitude]="lng" [agmDrawingManager]="drawing"
    (onMapClick)="handleMapClick($event)" (onOverlayClick)="handleOverlayClick($event)">
    <agm-marker [latitude]="this.userService.CurrentUser.AddressX" [longitude]="this.userService.CurrentUser.AddressY">
    </agm-marker>
  </agm-map>
  <agm-drawing-manager #drawing="agmDrawingManager" [drawingMode]="'circle'"
    [circleOptions]="{fillColor:'red', radius: 150}"></agm-drawing-manager>
  <br><br>
  <!-- 
  <p-gmap [options]="options" [overlays]="overlays" [style]="{'width':'100%','height':'320px'}"
            (onMapClick)="handleMapClick($event)" (onOverlayClick)="handleOverlayClick($event)"></p-gmap> -->



  <!-- <p-gmap #gmap [style]="{'width':'100%','height':'320px', 'margin-bottom': '1em'}" [options]="options" [overlays]="overlays"
       (onMapClick)="handleMapClick($event)" ></p-gmap> -->
  <!-- (onOverlayClick)="handleOverlayClick($event)" (onOverlayDragEnd)="handleDragEnd($event)" -->

  <p-dialog showEffect="fade" [(visible)]="dialogVisible" header="New Location" [style]="{width: '300px'}">
    <div class="p-grid ui-fluid" *ngIf="selectedPosition">
      <div class="p-col-2"><label for="title">Label</label></div>
      <div class="p-col-10"><input type="text" pInputText id="title" [(ngModel)]="markerTitle"></div>

      <div class="p-col-2"><label for="lat">Lat</label></div>
      <div class="p-col-10"><input id="lat" type="text" readonly pInputText [ngModel]="selectedPosition.lat()"></div>

      <div class="p-col-2"><label for="lng">Lng</label></div>
      <div class="p-col-10"><input id="lng" type="text" readonly pInputText [ngModel]="selectedPosition.lng()"></div>

      <div class="p-col-2"><label for="drg">Drag</label></div>
      <div class="p-col-10">
        <p-checkbox [(ngModel)]="draggable" binary="true" [style]="{'margin-top':'.25em'}"></p-checkbox>
      </div>
    </div>
    <p-footer>
      <div class="ui-dialog-buttonpane ui-helper-clearfix">
        <button type="button" pButton label="Add Marker" icon="pi-plus" (click)="addMarker()"></button>
      </div>
    </p-footer>
  </p-dialog>

  <!-- <agm-map [latitude]="lat" [longitude]="lng" [agmDrawingManager]="drawing">
  <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
  <agm-drawing-manager #drawing="agmDrawingManager" [drawingMode]="'circle'"
  [circleOptions]="{fillColor:'red', radius: 150}"></agm-drawing-manager>
</agm-map> -->


</div>
<div name="n2" *ngIf="!this.d">


  <input type="text" pInputText style="margin-left: 33%; width: 15%; text-align: center;" [(ngModel)]="user.LName"
    disabled>
  <input type="text" pInputText style="margin-left: 2%; width: 15%; text-align: center;" [(ngModel)]="user.FName"
    disabled><br><br>

  <input type="text" pInputText style="margin-left: 33%; width: 15%; text-align: center;" [(ngModel)]="user.Password"
    disabled>
  <input type="text" pInputText style="margin-left: 2%; width: 15%; text-align: center;" [(ngModel)]="user.DateOfBirth"
    disabled><br><br>

  <input type="text" pInputText style="margin-left: 33%; width: 15%; text-align: center;" [(ngModel)]="user.Mail"
    disabled>
  <input type="text" pInputText style="margin-left: 2%; width: 15%; text-align: center;" [(ngModel)]="user.Phone"
    disabled><br><br>

  <input type="text" pInputText style="margin-left: 33%; width: 15%; text-align: center;" [(ngModel)]="user.MinToLearn"
    disabled>
  <input type="text" pInputText style="margin-left: 2%; width: 15%; text-align: center;" [(ngModel)]="user.Min"
    disabled><br><br>

  <!-- 
  <input type="text" pInputText style="margin-left: 33%; width: 15%; text-align: center;" [(ngModel)]="user.AgeMin"
    disabled>
  <input type="text" pInputText style="margin-left: 2%; width: 15%; text-align: center;" [(ngModel)]="user.AgeMax"
    disabled><br><br>
 -->
  <!-- <input type="text" pInputText style="margin-left: 33%; width: 15%; text-align: center;" [(ngModel)]="user.CodeSector"
    disabled><br><br> -->

  <input type="text" pInputText style="margin-left: 33%; width: 15%; text-align: center;" [(ngModel)]="sec"
    disabled><br><br>
  <!-- <h3>{{min1.NameMin}}</h3> -->

  <!-- <agm-map style="height: 300px" [latitude]="lat" [longitude]="lng">
    <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
  </agm-map> -->

  <agm-map style="height: 300px" [latitude]="lat" [longitude]="lng" (onMapClick)="handleMapClick($event)"
    (onOverlayClick)="handleOverlayClick($event)">
    <agm-marker [latitude]="this.userService.CurrentUser.AddressX" [longitude]="this.userService.CurrentUser.AddressY">
    </agm-marker>
  </agm-map>
  <br><br>

</div>

<p-dialog header="" [(visible)]="openModal" [modal]="true" [style]="{width: '50vw'}" [baseZIndex]="10000"
  [draggable]="false" [resizable]="false">

  <svg xmlns="http://www.w3.org/2000/svg" style="margin-left: 45%; color:rgb(83, 216, 101)" width="80" height="80"
    fill="currentColor" class="bi bi-check2-circle" viewBox="0 0 16 16">
    <path
      d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z" />
    <path d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z" />
  </svg>
  <br>
  <h2 style="text-align: center; font-family: Georgia, 'Times New Roman', Times, serif;">הפרטים עודכנו במערכת</h2>
  <br>
  <p-footer>

  </p-footer>
</p-dialog>


<button style="margin-left: 35%; width: 30%; background-color: rgb(66, 146, 93); color: white; font-size: 130%;"
  (click)="update()">עדכן</button><br><br>